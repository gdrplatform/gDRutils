<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Divide the columns of an input data.table into treatment metadata, condition metadata,
experiment metadata, and assay data for further analysis. This will most commonly be used
to identify the different components of a SummarizedExperiment object."><title>split_SE_components — split_SE_components • gDRutils</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="split_SE_components — split_SE_components"><meta property="og:description" content="Divide the columns of an input data.table into treatment metadata, condition metadata,
experiment metadata, and assay data for further analysis. This will most commonly be used
to identify the different components of a SummarizedExperiment object."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gDRutils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/gDRutils.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gdrplatform/gDRutils/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>split_SE_components</h1>
      <small class="dont-index">Source: <a href="https://github.com/gdrplatform/gDRutils/blob/HEAD/R/split_SE_components.R" class="external-link"><code>R/split_SE_components.R</code></a></small>
      <div class="d-none name"><code>split_SE_components.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Divide the columns of an input data.table into treatment metadata, condition metadata,
experiment metadata, and assay data for further analysis. This will most commonly be used
to identify the different components of a SummarizedExperiment object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">split_SE_components</span><span class="op">(</span><span class="va">df_</span>, nested_keys <span class="op">=</span> <span class="cn">NULL</span>, combine_on <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df_</dt>
<dd><p>data.table with drug-response data</p></dd>


<dt>nested_keys</dt>
<dd><p>character vector of keys to exclude from the row or column metadata,
and to instead nest within an element of the matrix. See details.</p></dd>


<dt>combine_on</dt>
<dd><p>integer value of <code>1</code> or <code>2</code>, indicating whether unrecognized columns
should be combined on row or column respectively.
Defaults to <code>1</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>named list containing different elements of a SummarizedExperiment;
see details.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Named list containing the following elements:</p><ul><li><p>"treatment_md": treatment metadata</p></li>
<li><p>"condition_md": condition metadata</p></li>
<li><p>"data_fields": all data.table column names corresponding to fields nested within a BumpyMatrix cell</p></li>
<li><p>"experiment_md": metadata that is constant for all entries of the data.table</p></li>
<li><p>"identifiers_md": key identifier mappings</p></li>
</ul><p>The <code>nested_keys</code> provides the user the opportunity to specify that they would not
like to use that metadata field as a differentiator of the treatments, and instead, incorporate it
into a nested <code>DataFrame</code> in the BumpyMatrix matrix object.</p>
<p>In the event that if any of the <code>nested_keys</code> are constant throughout the whole data.table,
they will still be included in the DataFrame of the BumpyMatrix and not in the experiment_metadata.</p>
<p>Columns within the <code>df_</code> will be identified through the following logic:
First, the known data fields and any specified <code>nested_keys</code> are extracted.
Following that, known cell and drug metadata fields are detected,
and any remaining columns that represent constant metadata fields across all rows are extracted.
Next, any cell line metadata will be heuristically extracted.
Finally, all remaining columns will be combined on either the rows or columns as specified by
<code>combine_on</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">split_SE_components</span><span class="op">(</span><span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>clid <span class="op">=</span> <span class="st">"CL1"</span>, Gnumber <span class="op">=</span> <span class="st">"DrugA"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $condition_md</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DataFrame with 1 row and 1 column</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            clid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;character&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CL1         CL1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $treatment_md</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DataFrame with 1 row and 1 column</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Gnumber</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       &lt;character&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DrugA       DrugA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $data_fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $experiment_md</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DataFrame with 0 rows and 0 columns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$duration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Duration"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$cellline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "clid"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$cellline_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "CellLineName"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$cellline_tissue</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Tissue"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$cellline_ref_div_time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ReferenceDivisionTime"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$cellline_parental_identifier</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "parental_identifier"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$cellline_subtype</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "subtype"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$drug</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Gnumber"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$drug_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "DrugName"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$drug_moa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "drug_moa"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$untreated_tag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "vehicle"   "untreated"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$masked_tag</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "masked"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$well_position</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "WellRow"    "WellColumn"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$concentration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Concentration"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$template</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Template"  "Treatment"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$barcode</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Barcode" "Plate"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$drug2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Gnumber_2"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$drug_name2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "DrugName_2"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$drug_moa2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "drug_moa_2"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$concentration2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Concentration_2"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$drug3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Gnumber_3"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$drug_name3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "DrugName_3"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$drug_moa3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "drug_moa_3"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$concentration3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Concentration_3"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$data_source</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "data_source"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $identifiers_md$replicate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Replicate"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Bartosz Czech, Arkadiusz Gladki, Aleksander Chlebowski, Marc Hafner, Pawel Piatkowski, Dariusz Scigocki, Janina Smola, Sergiu Mocanu, Allison Vuong.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

